<section data-ng-controller="DevicesController" data-ng-init="find()">
    <div flex layout="row" layout-align="start center" class="page-header bg-light-gray">
        <!--<h2 data-ng-bind="client.name"></h2>-->
        <h2 class="left-margin-20">Device List</h2>
        <div flex offset="75">
            <input class="rounded" type="text" placeholder="Filter By" ng-model="query" autofocus>
        </div>
    </div>
    <div class="section-margin">

        <div>
            <a href="/#!/devices/create" class="btn btn-primary"> Add New</a>

        </div>

        <!--<div class="list-group">
            <a data-ng-repeat="device in devices" data-ng-href="#!/devices/{{device._id}}" class="list-group-item">
                <small class="list-group-item-text">
                    Posted on
                    <span data-ng-bind="device.created | date:'medium'"></span>
                    by
                    <span data-ng-bind="device.user.displayName"></span>
                </small>
                <h4 class="list-group-item-heading" data-ng-bind="device.deviceId"></h4>
                {{device.deviceId}}
            </a>
        </div>
        <div class="alert alert-warning text-center" data-ng-hide="!devices.$resolved || devices.length">
            No Devices yet, why don't you <a href="/#!/devices/create">create one</a>?
        </div>
        </div>-->

        <table st-table="devices" class="table table-striped top-buffer">
            <thead>
            <tr>
                <th>Name</th>
                <th>Device Id</th>
                <th>Version</th>
                <th>Connected Sensors</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="device in devices | filter:query">
                <td>{{device.name}}</td>
                <td><span >{{device.deviceId}}</span></td>
                <td>{{device.version}}</td>
                <td>{{device.sensors.length}}</td>
                <td><a href="/#!/devices/{{device._id}}" class="btn btn-primary"> View</a></td>
            </tr>
            </tbody>
        </table>
        <div class="alert alert-warning text-center" data-ng-hide="!devices.$resolved || devices.length">
            No Devices yet, why don't you <a href="/#!/devices/create">create one</a>?
        </div>
    </div>
</section>
